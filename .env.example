# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
# .env.example
#
# UniFi Timelapse System - Environment Variables
# Copy to .env and configure for your environment
# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

# ===========================================
# Database Configuration (Required)
# ===========================================
POSTGRES_USER=timelapse
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=timelapse

# ===========================================
# Security (Required)
# ===========================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your_secret_key_here

# Admin user created on first startup
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_admin_password_here
JWT_EXPIRATION_HOURS=24

# ===========================================
# Application Settings
# ===========================================
DEBUG=false
LOG_LEVEL=INFO
TZ=America/Los_Angeles

# Docker image tag (for pulling specific versions)
IMAGE_TAG=latest

# HTTP port for nginx
HTTP_PORT=80

# ===========================================
# Capture Defaults
# ===========================================
DEFAULT_CAPTURE_INTERVAL=30
MAX_CONCURRENT_CAPTURES=50
CAPTURE_TIMEOUT=30
CAPTURE_RETRIES=3

# ===========================================
# Daily Timelapse Settings
# ===========================================
DEFAULT_FRAME_RATE=30
DEFAULT_CRF=20
DEFAULT_PIXEL_FORMAT=yuv444p
FFMPEG_TIMEOUT=14400
DAILY_TIMELAPSE_TIME=01:00

# ===========================================
# Multi-Day Timelapse Settings
# ===========================================
MULTIDAY_IMAGES_PER_HOUR=2
MULTIDAY_DAYS_TO_INCLUDE=7
MULTIDAY_GENERATION_DAY=sunday
MULTIDAY_GENERATION_TIME=02:00

# ===========================================
# Cleanup Settings
# ===========================================
# CLEANUP_AFTER_TIMELAPSE=false  # Deprecated - use RETENTION_DAYS_IMAGES instead
RETENTION_DAYS_IMAGES=7
RETENTION_DAYS_VIDEOS=365
CLEANUP_TIME=03:00

# ===========================================
# Health Monitor Settings
# ===========================================
HEALTH_CHECK_INTERVAL=60
BLANK_CHECK_INTERVAL=300
FROZEN_CHECK_INTERVAL=300
BLANK_THRESHOLD=0.02

# ===========================================
# Notification Settings (Apprise)
# ===========================================
APPRISE_ENABLED=false
# Default notification URLs (comma-separated Apprise URLs)
# Examples:
#   slack://TokenA/TokenB/TokenC
#   discord://WebhookID/WebhookToken
#   ntfy://topic
#   mailto://user:pass@gmail.com
APPRISE_DEFAULT_URLS=

# Alert thresholds
MIN_FAILURES_BEFORE_ALERT=3
ALERT_COOLDOWN_MINUTES=30
